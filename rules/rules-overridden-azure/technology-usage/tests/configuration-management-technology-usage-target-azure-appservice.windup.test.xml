<?xml version="1.0" encoding="UTF-8"?>
<ruletest id="configuration-management-technology-usage-azure-appservice-test"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          xmlns:windupfunctions="windupcustomfunctions"
          xmlns:windup="http://windup.jboss.org/schema/jboss-ruleset"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd">
   <testDataPath>data/configuration-management</testDataPath>
   <rulePath>../../../rules-reviewed/technology-usage/configuration-management.windup.xml</rulePath>
   <rulePath>../configuration-management.windup.xml</rulePath>
   <rulePath>../../../rules-reviewed/technology-usage/configuration-management-technology-usage.windup.xml</rulePath>
   <rulePath>../configuration-management-technology-usage.windup.xml</rulePath>
   <target>azure-appservice</target>
   <ruleset>
      <rules>
         <rule id="configuration-management-technology-usage-azure-appservice-test-0100">
            <when>
               <not>
                  <technology-statistics-exists name="Spring Cloud Config" number-found="3">
                     <tag name="Sustain"/>
                     <tag name="Configuration Management"/>
                     <tag name="Embedded"/>
                  </technology-statistics-exists>
               </not>
            </when>
            <perform>
               <fail message="Expected data not found for rule configuration-management-technology-usage-0100"/>
            </perform>
         </rule>
         <rule id="configuration-management-technology-usage-azure-appservice-test-0600">
            <when>
               <not>
                  <technology-statistics-exists name="Spring Cloud Vault">
                     <tag name="Sustain"/>
                     <tag name="Configuration Management"/>
                     <tag name="Embedded"/>
                  </technology-statistics-exists>
               </not>
            </when>
            <perform>
               <fail message="Expected data not found for Spring Cloud Vault, rule configuration-management-technology-usage-0600"/>
            </perform>
         </rule>
       </rules>
   </ruleset>
</ruletest>